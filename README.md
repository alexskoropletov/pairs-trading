# Stock Analyzer

–ü—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∞–∫—Ü–∏–π —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –ø–∞—Ä–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ú–∞—Ä–∫–æ–≤–∏—Ü–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å Telegram.

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –∏ —É–ª—É—á—à–µ–Ω–∏—è–º –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ [docs/](./docs/README.md).

## üåç –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (i18n)

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö:

### –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```bash
npm run infographic
npm run dev:infographic
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ
```bash
npm run infographic:en
npm run dev:infographic:en
```

### –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —è–∑—ã–∫–∞
```bash
./start.sh ru    # –†—É—Å—Å–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
./start.sh en    # –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
```

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ i18n: [docs/I18N_IMPLEMENTATION.md](./docs/I18N_IMPLEMENTATION.md)

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìà –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∞–∫—Ü–∏–π —Å Yahoo Finance
- üîó –ê–Ω–∞–ª–∏–∑ –ø–∞—Ä–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º (S&P500 –∏ NASDAQ)
- üìä –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ –º–µ—Ç–æ–¥—É –ú–∞—Ä–∫–æ–≤–∏—Ü–∞
- üì± –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Telegram
- üéØ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–∫–µ—Ä–æ–≤ S&P500 –∏ NASDAQ-2000
- üìã –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –∏ –∞–∫—Ç–∏–≤–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env-example` –≤ `.env`:
```bash
cp .env-example .env
```

2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
# Telegram API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_PHONE=your_phone
TELEGRAM_PASSWORD=your_password
TELEGRAM_CHANNEL_ID=your_channel_id

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞
TOP_PAIRS_COUNT=3
MIN_CORRELATION=0.7
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∞–∫—Ü–∏–π
npm run prices

# –ê–Ω–∞–ª–∏–∑ –ø–∞—Ä–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞
npm run pairs-trading

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –ú–∞—Ä–∫–æ–≤–∏—Ü–∞
npm run portfolio

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–∫–µ—Ä–æ–≤ S&P500 –∏ NASDAQ-2000
npm run get-stocks

# –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram
npm run telegram

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
npm run plot-returns
```

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
npm run dev:pairs
npm run dev:portfolio
npm run dev:stocks
```

## üìä –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫—É –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞ –ø–∞—Ä:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏
npm run infographic

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–±–µ–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)
npm run dev:infographic
```

### –ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞:

- **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º
- **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è**: —Å—Ä–µ–¥–Ω—è—è, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è
- **–¢–æ–ø-10 –ø–∞—Ä**: –ª—É—á—à–∏–µ –ø–∞—Ä—ã –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
- **–ì—Ä–∞—Ñ–∏–∫ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π**: –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ**: `pairs-YYYY-MM-DD.png`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:

```
infographics/
‚îú‚îÄ‚îÄ pairs-2024-01-15.png
‚îú‚îÄ‚îÄ pairs-2024-01-16.png
‚îî‚îÄ‚îÄ ...
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
npm install
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
npm test

# –¢–æ–ª—å–∫–æ unit-—Ç–µ—Å—Ç—ã
npm run test:unit

# –¢–æ–ª—å–∫–æ e2e-—Ç–µ—Å—Ç—ã
npm run test:e2e

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage

# –¢–µ—Å—Ç—ã –≤ —Ä–µ–∂–∏–º–µ watch
npm run test:watch
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ setup.ts                    # –ì–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ unit/                       # Unit-—Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ types.test.ts          # –¢–µ—Å—Ç—ã —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ stock.test.ts          # –¢–µ—Å—Ç—ã –º–æ–¥—É–ª—è stock
‚îÇ   ‚îú‚îÄ‚îÄ pairs_trading.test.ts  # –¢–µ—Å—Ç—ã –ø–∞—Ä–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ markowitz_portfolio.test.ts # –¢–µ—Å—Ç—ã –ø–æ—Ä—Ç—Ñ–µ–ª—è –ú–∞—Ä–∫–æ–≤–∏—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ telegram_sender.test.ts # –¢–µ—Å—Ç—ã Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ e2e/                        # End-to-end —Ç–µ—Å—Ç—ã
    ‚îú‚îÄ‚îÄ fetch_prices.test.ts    # –¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
    ‚îú‚îÄ‚îÄ pairs_trading_integration.test.ts # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–∞—Ä–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞
    ‚îú‚îÄ‚îÄ markowitz_portfolio_integration.test.ts # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ—Ä—Ç—Ñ–µ–ª—è
    ‚îî‚îÄ‚îÄ telegram_integration.test.ts # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã Telegram
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

–¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç:
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
- ‚úÖ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- ‚úÖ –†–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ Telegram API

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ types.ts                    # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ logger.ts                   # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ stock.ts                    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –∞–∫—Ü–∏–π
‚îú‚îÄ‚îÄ fetch_prices.ts            # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å Yahoo Finance
‚îú‚îÄ‚îÄ pairs_trading.ts           # –ê–Ω–∞–ª–∏–∑ –ø–∞—Ä–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ markowitz_portfolio.ts     # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è
‚îú‚îÄ‚îÄ telegram_sender.ts         # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
‚îú‚îÄ‚îÄ get_s_n_p.ts              # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–∫–µ—Ä–æ–≤ –∏–Ω–¥–µ–∫—Å–æ–≤
‚îî‚îÄ‚îÄ plot_returns.ts           # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤

stats/                         # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
‚îú‚îÄ‚îÄ *.csv                     # CSV —Ñ–∞–π–ª—ã —Å –¥–∞–Ω–Ω—ã–º–∏
‚îú‚îÄ‚îÄ pairs_analysis.json       # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ portfolio_summary.json    # –°–≤–æ–¥–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
‚îî‚îÄ‚îÄ *.png                     # –ì—Ä–∞—Ñ–∏–∫–∏
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

### –ü–∞—Ä–Ω—ã–π —Ç—Ä–µ–π–¥–∏–Ω–≥

–ê–Ω–∞–ª–∏–∑ —Å–æ–∑–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
- `pairs_trading.csv` - –≤—Å–µ –ø–∞—Ä—ã
- `pairs_trading_sp500.csv` - –ø–∞—Ä—ã S&P500
- `pairs_trading_nasdaq.csv` - –ø–∞—Ä—ã NASDAQ
- `pairs_analysis.json` - –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –ü–æ—Ä—Ç—Ñ–µ–ª—å –ú–∞—Ä–∫–æ–≤–∏—Ü–∞

–°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã:
- `markowitz_portfolio.csv` - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –≤–µ—Å–∞
- `efficient_frontier.csv` - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞
- `portfolio_summary.json` - —Å–≤–æ–¥–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è

## Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Telegram:

1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏ –Ω–∞ https://my.telegram.org
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `npm run telegram`

## –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è < 1
- –†–∞–∑–ª–∏—á–Ω—ã–µ –∞–∫—Ç–∏–≤—ã –≤ –ø–∞—Ä–µ
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.7)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT 